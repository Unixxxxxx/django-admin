{% extends "base2.html"%}
{% block index %}
  <!-- Hero Section -->
  <section class="relative bg-gradient-to-r from-pink-100 to-pink-200 pt-28 pb-20 text-center">
    <h2 class="text-4xl md:text-6xl font-extrabold text-pink-700">Delicious Cakes for Every Occasion</h2>
    <p class="mt-4 text-lg md:text-xl text-gray-600">Freshly baked with love, just for you.</p>
    <button class="mt-6 px-6 py-3 bg-pink-600 text-white rounded-full shadow-lg hover:bg-pink-700 transition">
      Order Now
    </button>
  </section>

  <!-- Featured Cakes -->
  <section class="max-w-7xl mx-auto py-16 px-6">
    <h3 class="text-3xl font-bold text-center text-pink-700 mb-10">Our Bestsellers</h3>
    <div class="grid md:grid-cols-3 gap-8">
      <!-- Cake 1 -->
      <div class="bg-white rounded-2xl shadow-md p-4 text-center hover:scale-105 transition">
        <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c" alt="Chocolate Cake" class="rounded-xl h-56 w-full object-cover">
        <h4 class="mt-4 text-xl font-semibold">Chocolate Delight</h4>
        <p class="text-gray-500">Rich & creamy chocolate cake</p>
        <p class="mt-2 font-bold text-pink-600">$20</p>
      </div>
      <!-- Cake 2 -->
      <div class="bg-white rounded-2xl shadow-md p-4 text-center hover:scale-105 transition">
        <img src="https://images.unsplash.com/photo-1599785209707-28a0be1a67f0" alt="Strawberry Cake" class="rounded-xl h-56 w-full object-cover">
        <h4 class="mt-4 text-xl font-semibold">Strawberry Bliss</h4>
        <p class="text-gray-500">Fresh cream with strawberry</p>
        <p class="mt-2 font-bold text-pink-600">$18</p>
      </div>
      <!-- Cake 3 -->
      <div class="bg-white rounded-2xl shadow-md p-4 text-center hover:scale-105 transition">
        <img src="https://images.unsplash.com/photo-1608198093002-ad4e005484ec" alt="Vanilla Cake" class="rounded-xl h-56 w-full object-cover">
        <h4 class="mt-4 text-xl font-semibold">Vanilla Dream</h4>
        <p class="text-gray-500">Classic vanilla with elegance</p>
        <p class="mt-2 font-bold text-pink-600">$15</p>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="bg-pink-100 py-16 px-6">
    <h3 class="text-3xl font-bold text-center text-pink-700 mb-10">What Our Customers Say</h3>
    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
      <div class="bg-white p-6 rounded-2xl shadow-md text-center">
        <p class="italic">"The best chocolate cake I’ve ever had!"</p>
        <h5 class="mt-4 font-semibold">- Sarah</h5>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow-md text-center">
        <p class="italic">"Fresh, tasty, and beautifully decorated!"</p>
        <h5 class="mt-4 font-semibold">- John</h5>
      </div>
      <div class="bg-white p-6 rounded-2xl shadow-md text-center">
        <p class="italic">"My go-to shop for birthdays and parties."</p>
        <h5 class="mt-4 font-semibold">- Emily</h5>
      </div>
    </div>
  </section>
  <!-- Order Now Button -->
<button onclick="toggleModal(true)"
        class="mt-6 px-6 py-3 bg-pink-600 text-white rounded-full shadow-lg hover:bg-pink-700 transition">
  Order Now
</button>

<!-- Quote Request Modal -->
<div id="quoteModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white rounded-2xl shadow-lg w-full max-w-lg p-6">
    <div class="flex justify-between items-center border-b pb-2">
      <h5 class="text-xl font-bold text-pink-700">Get me a quote - Kedarnath Yatra 2025</h5>
      <button onclick="toggleModal(false)" class="text-gray-500 hover:text-red-600">✕</button>
    </div>

    <div class="mt-4">
      <form id="quoteForm" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit"
                class="mt-4 px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700">
          Submit
        </button>
      </form>
      <div id="formMsg" class="mt-3"></div>
    </div>
  </div>
</div>

<!-- Modal Script -->
<script>
  function toggleModal(show) {
    document.getElementById("quoteModal").classList.toggle("hidden", !show);
  }

  // AJAX form submission
  $("#quoteForm").on("submit", function(e) {
    e.preventDefault();
    $.ajax({
      url: "{% url 'get_quote' %}",
      method: "POST",
      data: $(this).serialize(),
      success: function(response) {
        if (response.success) {
          $("#formMsg").html("<p class='text-green-600'>" + response.message + "</p>");
          $("#quoteForm")[0].reset();
        } else {
          $("#formMsg").html("<p class='text-red-600'>Please fix errors.</p>");
        }
      }
    });
  });
</script>

{% endblock %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $("#quoteForm").on("submit", function(e) {
    e.preventDefault();
    $.ajax({
      url: "{% url 'get_quote' %}",
      method: "POST",
      data: $(this).serialize(),
      success: function(response) {
        if (response.success) {
          $("#formMsg").html("<p class='text-green-600'>" + response.message + "</p>");
          $("#quoteForm")[0].reset();
        } else {
          $("#formMsg").html("<p class='text-red-600'>Please check the errors.</p>");
        }
      }
    });
  });
</script>

